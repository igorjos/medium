(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{27:function(e,t,r){},28:function(e,t,r){},36:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),s=r(18),a=r.n(s),i=(r(27),r(28),r(11)),o=r(2),j=r(22),d=r(4),u=r.n(d),l=r(8),h=r(12),p=r(19),b=r(20),O={api:"/api"},x=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,[{key:"getAllOrders",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch([O.api,"orders"].join("/"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).catch((function(e){throw Error(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSingleOrder",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch([O.api,"orders",t].join("/"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).catch((function(e){throw Error(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOrderItems",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat([O.api,"products"].join("/"),"?").concat(t.map((function(e){return"id=".concat(e)})).join("&")),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).catch((function(e){throw Error(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),f=r(0);function m(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:Object(f.jsx)(i.b,{exact:!0,to:"/order/".concat(e.id),children:e.order})}),Object(f.jsxs)("td",{children:[e.sum," $"]}),Object(f.jsxs)("td",{children:[e.tax," $"]}),Object(f.jsxs)("td",{children:[e.total," $"]}),Object(f.jsx)("td",{children:e.items.length}),Object(f.jsx)("td",{children:e.status})]})}function v(){var e=Object(c.useState)(void 0),t=Object(h.a)(e,2),r=t[0],n=t[1],s=new x,a=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getAllOrders();case 2:(t=e.sent)&&t.length&&n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r||a()})),Object(f.jsx)("div",{className:"orders-list",children:Object(f.jsxs)("table",{className:"table table-striped table-hover",children:[Object(f.jsx)("thead",{className:"thead-dark",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"col",children:"#"}),Object(f.jsx)("th",{scope:"col",children:"Order"}),Object(f.jsx)("th",{scope:"col",children:"Sum"}),Object(f.jsx)("th",{scope:"col",children:"Tax"}),Object(f.jsx)("th",{scope:"col",children:"Total"}),Object(f.jsx)("th",{scope:"col",children:"Items"}),Object(f.jsx)("th",{scope:"col",children:"Status"})]})}),Object(f.jsx)("tbody",{children:r?r.map((function(e,t){return Object(f.jsx)(m,Object(j.a)({},e),t)})):Object(f.jsx)(f.Fragment,{})})]})})}function w(e){var t=Object(o.f)().id,r=new x,n=Object(c.useState)(),s=Object(h.a)(n,2),a=s[0],i=s[1],j=Object(c.useState)(),d=Object(h.a)(j,2),p=d[0],b=d[1],O=function(){var e=Object(l.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getSingleOrder(t).catch((function(e){return!1}));case 2:(c=e.sent)&&(i(c),m(c.items));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getOrderItems(t).catch((function(e){return!1}));case 2:(c=e.sent)&&b(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){if(p)return p.map((function(e,t){return Object(f.jsxs)("div",{className:"order-item",children:[Object(f.jsx)("h3",{children:e.title}),Object(f.jsx)("p",{children:Object(f.jsx)("img",{src:e.image})}),Object(f.jsx)("p",{children:e.description}),Object(f.jsxs)("p",{children:["Price: ",e.price,"$"]})]},t)}))};return Object(c.useEffect)((function(){t&&!a&&O(t)})),Object(f.jsx)("div",{children:function(){if(a)return Object(f.jsxs)("div",{className:"single-order",children:[Object(f.jsxs)("div",{className:"order-main",children:[Object(f.jsx)("h2",{children:"Summary"}),Object(f.jsxs)("p",{children:["Order id: ",a.id]}),Object(f.jsxs)("p",{children:["Order number: ",a.order]}),Object(f.jsxs)("p",{children:["Tax: ",a.tax,"%"]}),Object(f.jsxs)("p",{children:["Amount: ",a.sum,"$"]}),Object(f.jsxs)("p",{children:["Total: ",a.total,"$"]})]},1),Object(f.jsxs)("div",{className:"order-shipping",children:[Object(f.jsx)("h2",{children:"Shipping Details"}),Object(f.jsxs)("p",{children:["To: ",a.receiver.name]}),Object(f.jsxs)("p",{children:["Address: ",a.address.street]}),Object(f.jsxs)("p",{children:["Zip Code: ",a.address.zip]}),Object(f.jsxs)("p",{children:["City: ",a.address.city]}),Object(f.jsxs)("p",{children:["State: ",a.address.state]})]},2),Object(f.jsx)("div",{className:"order-status",children:Object(f.jsx)("p",{className:a.status,children:a.status})},3),Object(f.jsx)("div",{className:"order-items",children:v()},4)]})}()})}function g(){return Object(f.jsx)(i.a,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("nav",{className:"app-two-nav",children:Object(f.jsx)("ul",{className:"nav",children:Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(i.b,{className:"nav-link",exact:!0,to:"/orders",activeClassName:"active_url",children:"Orders"})})})}),Object(f.jsx)("div",{className:"app-route-wrapper",children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/orders",children:Object(f.jsx)(v,{})}),Object(f.jsx)(o.a,{exact:!0,path:"/order/:id",children:Object(f.jsx)(w,{})})]})})]})})}var y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,37)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),c(e),n(e),s(e),a(e)}))};a.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root")),y()}},[[36,1,2]]]);
//# sourceMappingURL=main.d8b3b904.chunk.js.map